<?plantuml 1.2026.2beta3?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="556px" preserveAspectRatio="none" style="width:1197px;height:556px;background:#1B1B1B;" version="1.1" viewBox="0 0 1197 556" width="1197px" zoomAndPan="magnify"><defs/><g><rect fill="#1B1B1B" height="556" style="stroke:none;stroke-width:1;" width="1197" x="0" y="0"/><!--cluster Infrastructure Layer (Adapters)--><g class="cluster" data-qualified-name="Infrastructure Layer .Adapters." data-source-line="3" id="ent0002"><path d="M73.74,401.34 L323.8005,401.34 A3.75,3.75 0 0 1 326.3005,403.84 L333.3005,423.6369 L817.74,423.6369 A2.5,2.5 0 0 1 820.24,426.1369 L820.24,546.73 A2.5,2.5 0 0 1 817.74,549.23 L73.74,549.23 A2.5,2.5 0 0 1 71.24,546.73 L71.24,403.84 A2.5,2.5 0 0 1 73.74,401.34" fill="none" style="stroke:#FFFFFF;stroke-width:1.5;"/><line style="stroke:#FFFFFF;stroke-width:1.5;" x1="71.24" x2="333.3005" y1="423.6369" y2="423.6369"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="249.0605" x="75.24" y="416.3351">Infrastructure Layer (Adapters)</text></g><!--cluster Core Domain Layer--><g class="cluster" data-qualified-name="Core Domain Layer" data-source-line="23" id="ent0006"><path d="M273.74,6 L424.7136,6 A3.75,3.75 0 0 1 427.2136,8.5 L434.2136,28.2969 L1187.74,28.2969 A2.5,2.5 0 0 1 1190.24,30.7969 L1190.24,349.84 A2.5,2.5 0 0 1 1187.74,352.34 L273.74,352.34 A2.5,2.5 0 0 1 271.24,349.84 L271.24,8.5 A2.5,2.5 0 0 1 273.74,6" fill="none" style="stroke:#FFFFFF;stroke-width:1.5;"/><line style="stroke:#FFFFFF;stroke-width:1.5;" x1="271.24" x2="434.2136" y1="28.2969" y2="28.2969"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="149.9736" x="275.24" y="20.9951">Core Domain Layer</text></g><!--class MqttAdapter--><g class="entity" data-qualified-name="Infrastructure Layer .Adapters..MqttAdapter" data-source-line="4" id="ent0003"><rect fill="#313139" height="96.8906" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="279.1484" x="87.67" y="436.34"/><ellipse cx="179.128" cy="452.34" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M182.0968,457.9806 Q181.5186,458.2775 180.878,458.4181 Q180.2374,458.5744 179.5343,458.5744 Q177.0343,458.5744 175.7061,456.9338 Q174.3936,455.2775 174.3936,452.1525 Q174.3936,449.0275 175.7061,447.3713 Q177.0343,445.715 179.5343,445.715 Q180.2374,445.715 180.878,445.8713 Q181.5343,446.0275 182.0968,446.3244 L182.0968,449.0431 Q181.4718,448.465 180.878,448.1994 Q180.2843,447.9181 179.6593,447.9181 Q178.3155,447.9181 177.628,448.9963 Q176.9405,450.0588 176.9405,452.1525 Q176.9405,454.2463 177.628,455.3244 Q178.3155,456.3869 179.6593,456.3869 Q180.2843,456.3869 180.878,456.1213 Q181.4718,455.84 182.0968,455.2619 L182.0968,457.9806 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.7324" x="199.628" y="457.1867">MqttAdapter</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="88.67" x2="365.8184" y1="468.34" y2="468.34"/><g data-visibility-modifier="PRIVATE_FIELD"><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="95.67" y="478.9884"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.0938" x="107.67" y="485.3351">client: MqttClient</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="88.67" x2="365.8184" y1="492.6369" y2="492.6369"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="98.67" cy="506.2853" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253.1484" x="107.67" y="509.632">onMessageReceived(topic, payload)</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="98.67" cy="522.5822" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.8643" x="107.67" y="525.9289">updateLeds(status)</text></g><!--class SerialAdapter--><g class="entity" data-qualified-name="Infrastructure Layer .Adapters..SerialAdapter" data-source-line="10" id="ent0004"><rect fill="#313139" height="96.8906" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="172.7676" x="401.86" y="436.34"/><ellipse cx="437.2744" cy="452.34" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M440.2431,457.9806 Q439.665,458.2775 439.0244,458.4181 Q438.3837,458.5744 437.6806,458.5744 Q435.1806,458.5744 433.8525,456.9338 Q432.54,455.2775 432.54,452.1525 Q432.54,449.0275 433.8525,447.3713 Q435.1806,445.715 437.6806,445.715 Q438.3837,445.715 439.0244,445.8713 Q439.6806,446.0275 440.2431,446.3244 L440.2431,449.0431 Q439.6181,448.465 439.0244,448.1994 Q438.4306,447.9181 437.8056,447.9181 Q436.4619,447.9181 435.7744,448.9963 Q435.0869,450.0588 435.0869,452.1525 Q435.0869,454.2463 435.7744,455.3244 Q436.4619,456.3869 437.8056,456.3869 Q438.4306,456.3869 439.0244,456.1213 Q439.6181,455.84 440.2431,455.2619 L440.2431,457.9806 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95.4023" x="455.8109" y="457.1867">SerialAdapter</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="402.86" x2="573.6276" y1="468.34" y2="468.34"/><g data-visibility-modifier="PRIVATE_FIELD"><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="409.86" y="478.9884"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.0557" x="421.86" y="485.3351">serialPort: Serial</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="402.86" x2="573.6276" y1="492.6369" y2="492.6369"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="412.86" cy="506.2853" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.5762" x="421.86" y="509.632">readLoop()</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="412.86" cy="522.5822" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.7676" x="421.86" y="525.9289">sendCommand(cmd)</text></g><!--class HttpAdapter--><g class="entity" data-qualified-name="Infrastructure Layer .Adapters..HttpAdapter" data-source-line="16" id="ent0005"><rect fill="#313139" height="96.8906" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="194.6357" x="609.92" y="436.34"/><ellipse cx="659.8975" cy="452.34" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M662.8663,457.9806 Q662.2882,458.2775 661.6475,458.4181 Q661.0069,458.5744 660.3038,458.5744 Q657.8038,458.5744 656.4757,456.9338 Q655.1632,455.2775 655.1632,452.1525 Q655.1632,449.0275 656.4757,447.3713 Q657.8038,445.715 660.3038,445.715 Q661.0069,445.715 661.6475,445.8713 Q662.3038,446.0275 662.8663,446.3244 L662.8663,449.0431 Q662.2413,448.465 661.6475,448.1994 Q661.0538,447.9181 660.4288,447.9181 Q659.085,447.9181 658.3975,448.9963 Q657.71,450.0588 657.71,452.1525 Q657.71,454.2463 658.3975,455.3244 Q659.085,456.3869 660.4288,456.3869 Q661.0538,456.3869 661.6475,456.1213 Q662.2413,455.84 662.8663,455.2619 L662.8663,457.9806 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.1807" x="680.3975" y="457.1867">HttpAdapter</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="610.92" x2="803.5557" y1="468.34" y2="468.34"/><g data-visibility-modifier="PRIVATE_FIELD"><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="617.92" y="478.9884"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168.6357" x="629.92" y="485.3351">apiServer: FastAPI/Flask</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="610.92" x2="803.5557" y1="492.6369" y2="492.6369"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="620.92" cy="506.2853" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5244" x="629.92" y="509.632">getStatus()</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="620.92" cy="522.5822" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.9043" x="629.92" y="525.9289">postModeChange()</text></g><!--class CusEventBus--><g class="entity" data-qualified-name="Core Domain Layer.CusEventBus" data-source-line="24" id="ent0007"><rect fill="#313139" height="96.8906" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="359.0947" x="287.7" y="239.45"/><ellipse cx="417.0872" cy="255.45" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M420.056,261.0906 Q419.4778,261.3875 418.8372,261.5281 Q418.1966,261.6844 417.4935,261.6844 Q414.9935,261.6844 413.6653,260.0438 Q412.3528,258.3875 412.3528,255.2625 Q412.3528,252.1375 413.6653,250.4813 Q414.9935,248.825 417.4935,248.825 Q418.1966,248.825 418.8372,248.9813 Q419.4935,249.1375 420.056,249.4344 L420.056,252.1531 Q419.431,251.575 418.8372,251.3094 Q418.2435,251.0281 417.6185,251.0281 Q416.2747,251.0281 415.5872,252.1063 Q414.8997,253.1688 414.8997,255.2625 Q414.8997,257.3563 415.5872,258.4344 Q416.2747,259.4969 417.6185,259.4969 Q418.2435,259.4969 418.8372,259.2313 Q419.431,258.95 420.056,258.3719 L420.056,261.0906 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.8203" x="437.5872" y="260.2967">CusEventBus</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="288.7" x2="645.7947" y1="271.45" y2="271.45"/><g data-visibility-modifier="PRIVATE_FIELD"><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="295.7" y="282.0984"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="333.0947" x="307.7" y="288.4451">subscribers: Map&lt;EventType, List&lt;Callback&gt;&gt;</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="288.7" x2="645.7947" y1="295.7469" y2="295.7469"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="298.7" cy="309.3953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101.623" x="307.7" y="312.742">publish(Event)</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="298.7" cy="325.6922" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220.8623" x="307.7" y="329.0389">subscribe(EventType, Callback)</text></g><!--class TankController--><g class="entity" data-qualified-name="Core Domain Layer.TankController" data-source-line="30" id="ent0008"><rect fill="#313139" height="121.4531" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="244.5723" x="433.96" y="41"/><ellipse cx="500.354" cy="61.1328" fill="#FF7700" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M499.8384,61.6953 Q497.979,60.9922 497.3228,60.2266 Q496.6822,59.4453 496.6822,58.1328 Q496.6822,56.4453 497.7603,55.4766 Q498.8384,54.5078 500.7134,54.5078 Q501.5728,54.5078 502.4165,54.7109 Q503.2759,54.8984 504.1197,55.2891 L504.1197,57.6797 Q503.3384,57.1172 502.5103,56.8359 Q501.6978,56.5391 500.9009,56.5391 Q500.0259,56.5391 499.5415,56.8984 Q499.0728,57.2578 499.0728,57.9141 Q499.0728,58.4297 499.4165,58.7734 Q499.7603,59.1016 500.854,59.5078 L501.9165,59.9141 Q503.4009,60.4609 504.104,61.3672 Q504.8228,62.2734 504.8228,63.6484 Q504.8228,65.5234 503.7134,66.4453 Q502.604,67.3672 500.354,67.3672 Q499.4322,67.3672 498.5103,67.1484 Q497.5884,66.9297 496.729,66.5078 L496.729,63.9766 Q497.6978,64.6641 498.6197,65.0078 Q499.5415,65.3516 500.4322,65.3516 Q501.3384,65.3516 501.8384,64.9453 Q502.3384,64.5234 502.3384,63.7891 Q502.3384,63.2266 501.9947,62.8203 Q501.6665,62.3984 501.0415,62.1484 L499.8384,61.6953 Z " fill="#FFFFFF"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="71.2266" x="536.8829" y="57.1387">&#171;Singleton&#187;</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.2842" x="520.854" y="72.9639">TankController</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="434.96" x2="677.5323" y1="81.2656" y2="81.2656"/><g data-visibility-modifier="PRIVATE_FIELD"><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="441.96" y="91.9141"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186.5459" x="453.96" y="98.2607">currentState: SystemState</text><g data-visibility-modifier="PRIVATE_FIELD"><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="441.96" y="108.2109"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218.5723" x="453.96" y="114.5576">waterLevelHistory: List&lt;Float&gt;</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="434.96" x2="677.5323" y1="121.8594" y2="121.8594"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="444.96" cy="135.5078" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.8516" x="453.96" y="138.8545">handleEvent(Event)</text><g data-visibility-modifier="PRIVATE_METHOD"><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1;" width="6" x="441.96" y="148.8047"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97.0908" x="453.96" y="155.1514">updateLogic()</text></g><!--class SystemState--><g class="entity" data-qualified-name="Core Domain Layer.SystemState" data-source-line="37" id="ent0009"><rect fill="#313139" height="80.5938" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="207.4668" x="777.51" y="61.43"/><ellipse cx="832.3616" cy="77.43" fill="#352866" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M828.2834,73.1956 L828.2834,71.0394 L835.6741,71.0394 L835.6741,73.1956 L833.2053,73.1956 L833.2053,81.2738 L835.6741,81.2738 L835.6741,83.43 L828.2834,83.43 L828.2834,81.2738 L830.7522,81.2738 L830.7522,73.1956 L828.2834,73.1956 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89.2637" x="852.8616" y="82.2767">SystemState</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="778.51" x2="983.9768" y1="93.43" y2="93.43"/><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="778.51" x2="983.9768" y1="101.43" y2="101.43"/><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="788.51" cy="115.0784" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.1309" x="797.51" y="118.4251">handleLevel(level)</text><g data-visibility-modifier="PUBLIC_METHOD"><ellipse cx="788.51" cy="131.3753" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/></g><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="181.4668" x="797.51" y="134.722">handleManualCommand()</text></g><!--class AutomaticState--><g class="entity" data-qualified-name="Core Domain Layer.AutomaticState" data-source-line="42" id="ent0010"><rect fill="#313139" height="48" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="140.8555" x="681.82" y="263.89"/><ellipse cx="696.82" cy="279.89" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M699.7888,285.5306 Q699.2106,285.8275 698.57,285.9681 Q697.9294,286.1244 697.2263,286.1244 Q694.7263,286.1244 693.3981,284.4838 Q692.0856,282.8275 692.0856,279.7025 Q692.0856,276.5775 693.3981,274.9213 Q694.7263,273.265 697.2263,273.265 Q697.9294,273.265 698.57,273.4213 Q699.2263,273.5775 699.7888,273.8744 L699.7888,276.5931 Q699.1638,276.015 698.57,275.7494 Q697.9763,275.4681 697.3513,275.4681 Q696.0075,275.4681 695.32,276.5463 Q694.6325,277.6088 694.6325,279.7025 Q694.6325,281.7963 695.32,282.8744 Q696.0075,283.9369 697.3513,283.9369 Q697.9763,283.9369 698.57,283.6713 Q699.1638,283.39 699.7888,282.8119 L699.7888,285.5306 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.8555" x="710.82" y="284.7367">AutomaticState</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="682.82" x2="821.6755" y1="295.89" y2="295.89"/><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="682.82" x2="821.6755" y1="303.89" y2="303.89"/></g><!--class ManualState--><g class="entity" data-qualified-name="Core Domain Layer.ManualState" data-source-line="43" id="ent0011"><rect fill="#313139" height="48" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="119.9307" x="857.28" y="263.89"/><ellipse cx="872.28" cy="279.89" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M875.2488,285.5306 Q874.6706,285.8275 874.03,285.9681 Q873.3894,286.1244 872.6863,286.1244 Q870.1863,286.1244 868.8581,284.4838 Q867.5456,282.8275 867.5456,279.7025 Q867.5456,276.5775 868.8581,274.9213 Q870.1863,273.265 872.6863,273.265 Q873.3894,273.265 874.03,273.4213 Q874.6863,273.5775 875.2488,273.8744 L875.2488,276.5931 Q874.6238,276.015 874.03,275.7494 Q873.4363,275.4681 872.8113,275.4681 Q871.4675,275.4681 870.78,276.5463 Q870.0925,277.6088 870.0925,279.7025 Q870.0925,281.7963 870.78,282.8744 Q871.4675,283.9369 872.8113,283.9369 Q873.4363,283.9369 874.03,283.6713 Q874.6238,283.39 875.2488,282.8119 L875.2488,285.5306 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87.9307" x="886.28" y="284.7367">ManualState</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="858.28" x2="976.2107" y1="295.89" y2="295.89"/><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="858.28" x2="976.2107" y1="303.89" y2="303.89"/></g><!--class UnconnectedState--><g class="entity" data-qualified-name="Core Domain Layer.UnconnectedState" data-source-line="44" id="ent0012"><rect fill="#313139" height="48" rx="2.5" ry="2.5" style="stroke:#E7E7E7;stroke-width:0.5;" width="161.4863" x="1012.5" y="263.89"/><ellipse cx="1027.5" cy="279.89" fill="#2E5233" rx="11" ry="11" style="stroke:#E7E7E7;stroke-width:1;"/><path d="M1030.4688,285.5306 Q1029.8906,285.8275 1029.25,285.9681 Q1028.6094,286.1244 1027.9063,286.1244 Q1025.4063,286.1244 1024.0781,284.4838 Q1022.7656,282.8275 1022.7656,279.7025 Q1022.7656,276.5775 1024.0781,274.9213 Q1025.4063,273.265 1027.9063,273.265 Q1028.6094,273.265 1029.25,273.4213 Q1029.9063,273.5775 1030.4688,273.8744 L1030.4688,276.5931 Q1029.8438,276.015 1029.25,275.7494 Q1028.6563,275.4681 1028.0313,275.4681 Q1026.6875,275.4681 1026,276.5463 Q1025.3125,277.6088 1025.3125,279.7025 Q1025.3125,281.7963 1026,282.8744 Q1026.6875,283.9369 1028.0313,283.9369 Q1028.6563,283.9369 1029.25,283.6713 Q1029.8438,283.39 1030.4688,282.8119 L1030.4688,285.5306 Z " fill="#FFFFFF"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.4863" x="1041.5" y="284.7367">UnconnectedState</text><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="1013.5" x2="1172.9863" y1="295.89" y2="295.89"/><line style="stroke:#E7E7E7;stroke-width:0.5;" x1="1013.5" x2="1172.9863" y1="303.89" y2="303.89"/></g><!--link MqttAdapter to CusEventBus--><g class="link" data-entity-1="ent0003" data-entity-2="ent0007" data-link-type="extension" data-source-line="48" id="lnk13"><path codeLine="48" d="M87.42,447.69 C40.29,428.7 6,402.23 34.24,368.34 C66.93,329.11 165.5541,310.9275 269.4941,300.8475" fill="none" id="MqttAdapter-to-CusEventBus" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="287.41,299.11,268.9149,294.8755,270.0732,306.8195,287.41,299.11" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.6011" x="35.24" y="381.4069">publishes LEVEL_UPDATE</text></g><!--link CusEventBus to MqttAdapter--><g class="link" data-entity-1="ent0007" data-entity-2="ent0003" data-link-type="dependency" data-source-line="62" id="lnk24"><path codeLine="62" d="M304.12,336.83 C289.43,345.65 275.77,356.06 264.24,368.34 C247.03,386.67 239.0798,407.1837 234.1598,430.0937" fill="none" id="CusEventBus-to-MqttAdapter" style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#E7E7E7" points="232.9,435.96,238.7005,428.0005,233.9498,431.0715,230.8789,426.3208,232.9,435.96" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.8613" x="265.24" y="381.4069">notifies</text></g><!--link SerialAdapter to CusEventBus--><g class="link" data-entity-1="ent0004" data-entity-2="ent0007" data-link-type="extension" data-source-line="49" id="lnk14"><path codeLine="49" d="M444.7,436.02 C427.44,419.94 406.43,403.52 384.24,393.34 C373.02,388.19 337.32,394.68 329.24,385.34 C313.47,367.1 307.673,361.2422 326.743,347.2622" fill="none" id="SerialAdapter-to-CusEventBus" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="341.26,336.62,323.1956,342.4232,330.2904,352.1012,341.26,336.62" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228.9663" x="330.24" y="381.4069">publishes BTN_PRESSED / POT_VAL</text></g><!--link CusEventBus to SerialAdapter--><g class="link" data-entity-1="ent0007" data-entity-2="ent0004" data-link-type="dependency" data-source-line="60" id="lnk22"><path codeLine="60" d="M540.18,336.64 C549.51,345.99 557.72,356.59 563.24,368.34 C574.23,391.7 566.4827,411.3156 549.3627,431.4856" fill="none" id="CusEventBus-to-SerialAdapter" style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#E7E7E7" points="545.48,436.06,554.3536,431.7869,548.7156,432.248,548.2544,426.61,545.48,436.06" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.8613" x="569.24" y="381.4069">notifies</text></g><!--link HttpAdapter to CusEventBus--><g class="link" data-entity-1="ent0005" data-entity-2="ent0007" data-link-type="extension" data-source-line="50" id="lnk15"><path codeLine="50" d="M680.81,436.07 C666.55,413.46 647.34,387.32 625.24,368.34 C611.5,356.54 611.3058,354.9299 595.1258,345.6299" fill="none" id="HttpAdapter-to-CusEventBus" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="579.52,336.66,592.1358,350.8319,598.1158,340.428,579.52,336.66" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.0352" x="643.24" y="381.4069">publishes UI_CMD</text></g><!--link CusEventBus to HttpAdapter--><g class="link" data-entity-1="ent0007" data-entity-2="ent0005" data-link-type="dependency" data-source-line="61" id="lnk23"><path codeLine="61" d="M583.16,336.82 C609.43,346.02 637.48,354.57 664.24,360.34 C675.57,362.78 760.37,359.84 768.24,368.34 C786.26,387.8 778.7743,408.87 761.3043,431.13" fill="none" id="CusEventBus-to-HttpAdapter" style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#E7E7E7" points="757.6,435.85,766.3031,431.2396,760.6869,431.9167,760.0098,426.3005,757.6,435.85" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.8613" x="778.24" y="381.4069">notifies</text></g><!--link CusEventBus to TankController--><g class="link" data-entity-1="ent0007" data-entity-2="ent0008" data-link-type="dependency" data-source-line="52" id="lnk16"><path codeLine="52" d="M458.02,239.34 C457.02,223.87 458.13,206.96 464.24,192.45 C468.71,181.86 471.3394,176.5752 478.6994,167.4252" fill="none" id="CusEventBus-to-TankController" style="stroke:#E7E7E7;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#E7E7E7" points="482.46,162.75,473.7023,167.2558,479.3262,166.646,479.9359,172.2699,482.46,162.75" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.8613" x="465.24" y="205.5169">notifies</text></g><!--link TankController to CusEventBus--><g class="link" data-entity-1="ent0008" data-entity-2="ent0007" data-link-type="extension" data-source-line="59" id="lnk21"><path codeLine="59" d="M536.98,162.71 C531.28,178.22 524.58,194.7 517.24,209.45 C512.32,219.33 515.9485,214.2489 509.9585,223.8489" fill="none" id="TankController-to-CusEventBus" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="500.43,239.12,515.0489,227.0251,504.8682,220.6727,500.43,239.12" style="stroke:#E7E7E7;stroke-width:1;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260.9648" x="526.24" y="205.5169">publishes VALVE_CMD / STATE_CHANGE</text></g><!--reverse link TankController to SystemState--><g class="link" data-entity-1="ent0008" data-entity-2="ent0009" data-link-type="composition" data-source-line="54" id="lnk17"><path codeLine="54" d="M690.75,101.72 C723.58,101.72 744.4,101.72 777.23,101.72" fill="none" id="TankController-backto-SystemState" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="#E7E7E7" points="678.75,101.72,684.75,105.72,690.75,101.72,684.75,97.72,678.75,101.72" style="stroke:#E7E7E7;stroke-width:1;"/></g><!--reverse link SystemState to AutomaticState--><g class="link" data-entity-1="ent0009" data-entity-2="ent0010" data-link-type="extension" data-source-line="55" id="lnk18"><path codeLine="55" d="M843.2431,156.973 C817.4031,193.863 790.04,232.93 768.66,263.46" fill="none" id="SystemState-backto-AutomaticState" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="853.57,142.23,838.3288,153.5307,848.1574,160.4153,853.57,142.23" style="stroke:#E7E7E7;stroke-width:1;"/></g><!--reverse link SystemState to ManualState--><g class="link" data-entity-1="ent0009" data-entity-2="ent0011" data-link-type="extension" data-source-line="56" id="lnk19"><path codeLine="56" d="M892.4227,159.8958 C899.6327,196.7858 906.7,232.93 912.66,263.46" fill="none" id="SystemState-backto-ManualState" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="888.97,142.23,886.5341,161.0467,898.3113,158.7449,888.97,142.23" style="stroke:#E7E7E7;stroke-width:1;"/></g><!--reverse link SystemState to UnconnectedState--><g class="link" data-entity-1="ent0009" data-entity-2="ent0012" data-link-type="extension" data-source-line="57" id="lnk20"><path codeLine="57" d="M940.5691,154.2641 C983.0491,191.1641 1031.28,233.07 1066.34,263.52" fill="none" id="SystemState-backto-UnconnectedState" style="stroke:#E7E7E7;stroke-width:1;"/><polygon fill="none" points="926.98,142.46,936.6344,158.7938,944.5038,149.7344,926.98,142.46" style="stroke:#E7E7E7;stroke-width:1;"/></g><?plantuml-src VLFHRjem57tFLrZiOM5hscelbH12eY6CIg55XFOL6USMB1pRinqcjFRVTmbaSm8Y3uZaN9zxppdNTikbfeOMXAb2AmdIPMulW9I5-144ch8jNGFfFCbtGwqp9NEb0PBIFHWI3dEg7HZRxP0_0S672MejcVvoxWITlX-U256E_BqAZwl__y3lHCafM8lDvi20xo0FdTAStH1DzqBHlElLbZgd3bB8RMWTTQKzWf-1DqG6XbDnQGnR8JDbS9HZbKTjWEQfKZhq-rcGUQoAWieyP4L-eTl4ENsf5zKSM-p0zCWO_HlEdkx6U63haQy1BJ-8QBJKohgfoY7UKBc6i6xvwMKIAqnYf0hAvJ6GPWfnQPCTUlnOsgRyScMPuIlC3QEWkbzLBVOQRaZAhUl7L8WLDXaC_7dAbU1s4rR53Mzgkj3ZgIakEBMWSXihwOmI0itgzyFiXdmPZnyUxk-x9EDoBS0fEHWqLwSqfjfDp1rJsri7HVNYrVp6LvF23iG4PIYpxntrZ75zdAy5BSq5LEEszKJrRgarPs5ZV2wH_fqoyDjxGzQyrGIXEFnspy0fbIKLzIvTi6TOEapKSVPVtUbILIVRNrybKr82Sv0V8IJxIkOWa4996_XNCOe-1esjw97EALQm94tUadJvEXiD5qadQDwUwoSV5y_BsJp9icH4xiZiPR5y6wQTmByIrmbUdvRnTDG90h_YzdRGtXKy99NZxnmi5hV0Rv7XwusB6ilX9zN_YAAslMUux_8PU6PsUuRhCj6Lj-IW55tA5cZpCfuCdt-YsstTJVSRijkblijN2_rDy0l_0W00?></g></svg>